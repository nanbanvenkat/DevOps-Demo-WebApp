pipeline {
         agent any
         stages {
                 stage('Clone source') {
                 steps {
                      git url: 'https://github.com/nanbanvenkat/DevOps-Demo-WebApp.git'
                 }
                 }
                 stage('Maven Build') {
                 steps {
                      buildInfo = rtMaven.run pom: 'pom.xml', goals: 'clean package', buildInfo: buildInfo
                 }
                 }
                 stage('Deploy to test') {
                 steps {
                  deploy adapters: [tomcat8(credentialsId: 'tomcat', path: '', url: 'http://52.167.166.3:8080/')], contextPath: '/QAWebapp', war: '**/*.war'
	            }
                 }
               
              }
}
